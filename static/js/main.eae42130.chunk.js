(this.webpackJsonpshop=this.webpackJsonpshop||[]).push([[0],{22:function(e,t,a){e.exports=a(73)},27:function(e,t,a){},29:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),l=a.n(o),c=(a(27),a(9)),i=a(3),s=a.n(i),u=a(4),m=a(5),f=a(6),d=a(8),g=a(7),p=(a(29),a(20)),h=a.n(p),v=a(21),y=a.n(v),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"https://pixabay.com/api/?key=".concat("17613343-1ae46d7f2f6b0249714d12d11","&q=").concat(e,"&image_type=photo&orientation=horizontal&per_page=30&page=").concat(t)},E=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:null,e.next=3,y.a[t](a,n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=(a(68),function(e){var t=e.loadMore;return r.a.createElement("button",{className:"Button",onClick:t},"Load more")}),M=(a(69),function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={filter:""},e.inputHeandlerFilter=function(t){var a=t.target;e.setState({filter:a.value})},e.searchSubmit=function(t){t.preventDefault(),""!==e.state.filter?e.props.getImages(e.state):alert("\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0442\u0435\u043a\u0441 \u043f\u043e\u0448\u0443\u043a\u0443")},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.filter;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.searchSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",name:"text",type:"text",onChange:function(t){return e.inputHeandlerFilter(t)},placeholder:"Search images and photos",value:t})))}}]),a}(n.Component)),k=(a(70),a(71),function(e){var t=e.image,a=e.showModal;return r.a.createElement("li",{className:"ImageGalleryItem",onClick:function(){return a(t.id)}},r.a.createElement("img",{src:t.webformatURL,alt:t.tags,className:"ImageGalleryItem-image"}))}),I=function(e){var t=e.imageGallery,a=e.showModal;return r.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return r.a.createElement(k,{key:e.id,image:e,showModal:a})})))},S=(a(72),function(e){var t=e.ImageModal,a=e.closeModal;return r.a.createElement("div",{className:"Overlay",onClick:a},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t.largeImageURL,alt:t.tags})))}),O=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageGallery:[],ImageModal:{},totalPages:0,totalImages:0,page:1,filter:"",loader:!1},e.keyUp=function(t){27===t.keyCode&&e.closeModal()},e.getImages=function(){var t=Object(u.a)(s.a.mark((function t(a){var n,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=a.filter)!==e.state.filter){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,E("get",b(n,1));case 5:r=t.sent,e.setState({imageGallery:r.hits,totalPages:r.totalHits,totalImages:r.total,page:1,filter:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.loadMore=Object(u.a)(s.a.mark((function t(){var a,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.page+=1,t.next=3,E("get",b(e.state.filter,a));case 3:return n=t.sent,t.next=6,e.setState((function(e){return{imageGallery:[].concat(Object(c.a)(e.imageGallery),Object(c.a)(n.hits)),page:a}}));case 6:e.scrollPage();case 7:case"end":return t.stop()}}),t)}))),e.showModal=function(t){e.setState((function(e){return{ImageModal:e.imageGallery.find((function(e){return e.id===t}))}}))},e.closeModal=function(){e.setState({ImageModal:{}})},e.scrollPage=function(){window.scrollTo(0,0),window.scrollTo({top:document.documentElement.offsetHeight,behavior:"smooth"})},e}return Object(f.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.keyUp,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.keyUp,!1)}},{key:"render",value:function(){var e=this.state,t=e.totalPages,a=e.imageGallery,o=e.loader,l=e.ImageModal;return r.a.createElement(n.Fragment,null,r.a.createElement(M,{getImages:this.getImages}),Object.keys(l).length?r.a.createElement(S,{ImageModal:l,closeModal:this.closeModal}):null,a&&r.a.createElement(I,{imageGallery:a,showModal:this.showModal}),o&&r.a.createElement("span",{className:"loader"},r.a.createElement(h.a,{type:"Audio",color:"#00BFFF",height:300,width:300})),a.length&&a.length!==t?r.a.createElement(w,{loadMore:this.loadMore}):null)}}]),a}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.eae42130.chunk.js.map