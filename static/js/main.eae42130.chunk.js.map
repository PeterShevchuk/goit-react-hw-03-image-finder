{"version":3,"sources":["Components/helpers/request.js","Components/Button/Button.js","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","App.js","index.js"],"names":["withCreadentials","filter","page","process","request","method","url","a","body","axios","result","data","Button","loadMore","className","onClick","Searchbar","state","inputHeandlerFilter","target","setState","value","searchSubmit","e","preventDefault","props","getImages","alert","this","onSubmit","type","name","onChange","placeholder","Component","ImageGalleryItem","image","showModal","id","src","webformatURL","alt","tags","ImageGallery","imageGallery","map","key","Modal","ImageModal","closeModal","largeImageURL","App","totalPages","totalImages","loader","keyUp","keyCode","hits","totalHits","total","prev","scrollPage","find","window","scrollTo","top","document","documentElement","offsetHeight","behavior","addEventListener","removeEventListener","Object","keys","length","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"4aAEaA,EAAmB,SAACC,GAAsB,IAAdC,EAAa,uDAAN,EAC9C,MAAM,gCAAN,OAAuCC,qCAAvC,cAA0EF,EAA1E,qEAA6IC,IAGlIE,EAAO,uCAAG,WAAOC,EAAQC,GAAf,6BAAAC,EAAA,6DAAoBC,EAApB,+BAA2B,KAA3B,SACAC,IAAMJ,GAAQC,EAAKE,GADnB,cACfE,EADe,yBAEdA,EAAOC,MAFO,2CAAH,wDCOLC,G,MATA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAMhB,OAAO,4BAAQC,UAAU,SAASC,QAASF,GAApC,eC0BMG,G,kNA9BbC,MAAQ,CACNhB,OAAQ,I,EAEViB,oBAAsB,YAAiB,IAAdC,EAAa,EAAbA,OACvB,EAAKC,SAAS,CAAEnB,OAAQkB,EAAOE,S,EAGjCC,aAAe,SAACC,GACdA,EAAEC,iBACwB,KAAtB,EAAKP,MAAMhB,OAIf,EAAKwB,MAAMC,UAAU,EAAKT,OAHxBU,MAAM,6G,uDAKA,IAAD,OACC1B,EAAW2B,KAAKX,MAAhBhB,OACR,OACE,4BAAQa,UAAU,aAChB,0BAAMA,UAAU,aAAae,SAAUD,KAAKN,cAC1C,4BAAQQ,KAAK,SAAShB,UAAU,qBAC9B,0BAAMA,UAAU,2BAAhB,WAEF,2BAAOA,UAAU,mBAAmBiB,KAAK,OAAOD,KAAK,OAAOE,SAAU,SAACT,GAAD,OAAO,EAAKL,oBAAoBK,IAAIU,YAAY,2BAA2BZ,MAAOpB,U,GAxB1IiC,cCQTC,G,YARU,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,MAAMC,EAAe,EAAfA,UAC/B,OACE,wBAAIvB,UAAU,mBAAmBC,QAAS,kBAAIsB,EAAUD,EAAME,MAC5D,yBAAKC,IAAKH,EAAMI,aAAcC,IAAKL,EAAMM,KAAM5B,UAAU,8BCQhD6B,EAVM,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,aAAcP,EAAgB,EAAhBA,UACpC,OACE,wBAAIvB,UAAU,gBACX8B,EAAaC,KAAI,SAACT,GAAD,OAChB,kBAAC,EAAD,CAAkBU,IAAKV,EAAME,GAAIF,MAAOA,EAAOC,UAAWA,SCGnDU,G,MAVD,SAAC,GAA6B,IAA5BC,EAA2B,EAA3BA,WAAWC,EAAgB,EAAhBA,WACzB,OACE,yBAAKnC,UAAU,UAAUC,QAASkC,GAChC,yBAAKnC,UAAU,SACb,yBAAKyB,IAAKS,EAAWE,cAAeT,IAAKO,EAAWN,WC8D7CS,E,4MAzDblC,MAAQ,CACN2B,aAAc,GACdI,WAAY,GACZI,WAAY,EACZC,YAAa,EACbnD,KAAM,EACND,OAAQ,GACRqD,QAAQ,G,EAQVC,MAAQ,SAAChC,GACU,KAAdA,EAAEiC,SAAiB,EAAKP,c,EAE7BvB,U,uCAAY,+BAAAnB,EAAA,0DAASN,EAAT,EAASA,UACJ,EAAKgB,MAAMhB,OADhB,iEAEWG,EAAQ,MAAOJ,EAAiBC,EAAQ,IAFnD,OAEJS,EAFI,OAGV,EAAKU,SAAS,CAAEwB,aAAclC,EAAO+C,KAAML,WAAY1C,EAAOgD,UAAWL,YAAa3C,EAAOiD,MAAOzD,KAAM,EAAGD,OAAQA,IAH3G,2C,wDAKZY,S,sBAAW,8BAAAN,EAAA,6DACLL,EAAQ,EAAKe,MAAMf,MAAQ,EADtB,SAEYE,EAAQ,MAAOJ,EAAiB,EAAKiB,MAAMhB,OAAQC,IAF/D,cAEHQ,EAFG,gBAGH,EAAKU,UAAS,SAACwC,GAAD,MAAW,CAAEhB,aAAa,GAAD,mBAAMgB,EAAKhB,cAAX,YAA4BlC,EAAO+C,OAAOvD,KAAMA,MAHpF,OAIT,EAAK2D,aAJI,2C,EAMXxB,UAAY,SAACC,GACX,EAAKlB,UAAS,SAACwC,GAAD,MAAW,CAAEZ,WAAYY,EAAKhB,aAAakB,MAAK,SAAA1B,GAAK,OAAGA,EAAME,KAAOA,U,EAErFW,WAAa,WACX,EAAK7B,SAAS,CAAE4B,WAAY,M,EAE9Ba,WAAa,WACXE,OAAOC,SAAS,EAAG,GACnBD,OAAOC,SAAS,CACZC,IAAKC,SAASC,gBAAgBC,aAC9BC,SAAU,Y,kEA7BdH,SAASI,iBAAiB,UAAW1C,KAAK2B,OAAO,K,6CAGjDW,SAASK,oBAAoB,UAAW3C,KAAK2B,OAAO,K,+BA8B5C,IAAD,EACkD3B,KAAKX,MAAtDmC,EADD,EACCA,WAAYR,EADb,EACaA,aAAcU,EAD3B,EAC2BA,OAAQN,EADnC,EACmCA,WAC1C,OACE,kBAAC,WAAD,KACE,kBAAC,EAAD,CAAWtB,UAAWE,KAAKF,YAC1B8C,OAAOC,KAAKzB,GAAY0B,OAAQ,kBAAC,EAAD,CAAO1B,WAAYA,EAAYC,WAAYrB,KAAKqB,aAAgB,KAChGL,GAAgB,kBAAC,EAAD,CAAcA,aAAcA,EAAcP,UAAWT,KAAKS,YAC1EiB,GAAU,0BAAMxC,UAAU,UAAS,kBAAC,IAAD,CAAQgB,KAAK,QAAQ6C,MAAM,UAAUC,OAAQ,IAAKC,MAAO,OAC5FjC,EAAa8B,QAAU9B,EAAa8B,SAAWtB,EAAa,kBAAC,EAAD,CAAQvC,SAAUe,KAAKf,WAAe,U,GApDzFqB,aCNlB4C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFd,SAASe,eAAe,W","file":"static/js/main.eae42130.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const withCreadentials = (filter, page = 1) => {\r\n  return `https://pixabay.com/api/?key=${process.env.REACT_APP_API_KEY}&q=${filter}&image_type=photo&orientation=horizontal&per_page=30&page=${page}`;\r\n};\r\n\r\nexport const request = async (method, url, body = null) => {\r\n  const result = await axios[method](url, body);\r\n  return result.data;\r\n};\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\nimport \"./Button.css\";\r\n\r\nconst Button = ({ loadMore }) => {\r\n  // window.scrollTo({\r\n  //   top: document.documentElement.scrollHeight,\r\n  //   behavior: \"smooth\",\r\n  // });\r\n\r\n  return <button className=\"Button\" onClick={loadMore}>Load more</button>;\r\n};\r\n\r\nexport default Button;\r\n\r\n// Section.propTypes = {\r\n//   title: PropTypes.string.isRequired,\r\n// };\r\n","import React, { Component } from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport \"./Searchbar.css\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    filter: \"\",\r\n  };\r\n  inputHeandlerFilter = ({ target }) => {\r\n    this.setState({ filter: target.value });\r\n  };\r\n\r\n  searchSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.filter === \"\") {\r\n      alert(\"Введіть текс пошуку\");\r\n      return;\r\n    }\r\n    this.props.getImages(this.state);\r\n  };\r\n  render() {\r\n    const { filter } = this.state;\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.searchSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n          <input className=\"SearchForm-input\" name=\"text\" type=\"text\" onChange={(e) => this.inputHeandlerFilter(e)} placeholder=\"Search images and photos\" value={filter} />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Searchbar;\r\n\r\n// Сontacts.propTypes = {\r\n//   contacts: PropTypes.array.isRequired,\r\n//   removeContact: PropTypes.func.isRequired,\r\n// };\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport \"./ImageGalleryItem.css\";\r\n\r\nconst ImageGalleryItem = ({image,showModal}) => {\r\n  return (\r\n    <li className=\"ImageGalleryItem\" onClick={()=>showModal(image.id)}>\r\n      <img src={image.webformatURL} alt={image.tags} className=\"ImageGalleryItem-image\" />\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n\r\n// Filter.propTypes = {\r\n//   inputHeandlerFilter: PropTypes.func.isRequired,\r\n//   filter: PropTypes.string.isRequired,\r\n//   resetInput: PropTypes.func.isRequired,\r\n// };\r\n","import React from \"react\";\r\n// import PropTypes from \"prop-types\";\r\n\r\nimport \"./ImageGallery.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ imageGallery, showModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {imageGallery.map((image) => (\r\n        <ImageGalleryItem key={image.id} image={image} showModal={showModal}/>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default ImageGallery;\r\n\r\n// Phonebook.propTypes = {\r\n//   addContact: PropTypes.func.isRequired,\r\n// };\r\n","import React from \"react\";\r\nimport \"./Modal.css\";\r\n\r\nconst Modal = ({ImageModal,closeModal}) => {\r\n  return (\r\n    <div className=\"Overlay\" onClick={closeModal}>\r\n      <div className=\"Modal\">\r\n        <img src={ImageModal.largeImageURL} alt={ImageModal.tags} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Fragment, Component } from \"react\";\r\nimport \"./App.css\";\r\n\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nimport { withCreadentials, request } from \"./Components/helpers/request\";\r\nimport Button from \"./Components/Button/Button\";\r\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\r\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\r\nimport Modal from \"./Components/Modal/Modal\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    imageGallery: [],\r\n    ImageModal: {},\r\n    totalPages: 0,\r\n    totalImages: 0,\r\n    page: 1,\r\n    filter: \"\",\r\n    loader: false,\r\n  };\r\n  componentDidMount(){\r\n    document.addEventListener(\"keydown\", this.keyUp, false);\r\n  }\r\n  componentWillUnmount(){\r\n    document.removeEventListener(\"keydown\", this.keyUp, false);\r\n  }\r\n  keyUp = (e) => {\r\n    if(e.keyCode === 27) {this.closeModal()}\r\n  }\r\n  getImages = async ({ filter }) => {\r\n    if (filter === this.state.filter) {return;}\r\n    const result = await request(\"get\", withCreadentials(filter, 1));\r\n    this.setState({ imageGallery: result.hits, totalPages: result.totalHits, totalImages: result.total, page: 1, filter: filter});\r\n  };\r\n  loadMore = async () => {\r\n    let page = (this.state.page += 1);\r\n    const result = await request(\"get\", withCreadentials(this.state.filter, page));\r\n    await this.setState((prev) => ({ imageGallery: [...prev.imageGallery, ...result.hits], page: page}));\r\n    this.scrollPage();\r\n  };\r\n  showModal = (id) => {\r\n    this.setState((prev) => ({ ImageModal: prev.imageGallery.find(image=> image.id === id)}));\r\n  }\r\n  closeModal = () => {\r\n    this.setState({ ImageModal: {}});\r\n  }\r\n  scrollPage = () => {\r\n    window.scrollTo(0, 0);\r\n    window.scrollTo({\r\n        top: document.documentElement.offsetHeight,\r\n        behavior: \"smooth\",\r\n    });\r\n\r\n  }\r\n  render() {\r\n    const { totalPages, imageGallery, loader, ImageModal } = this.state;\r\n    return (\r\n      <Fragment>\r\n        <Searchbar getImages={this.getImages} />\r\n        {Object.keys(ImageModal).length? <Modal ImageModal={ImageModal} closeModal={this.closeModal}/> : null}\r\n        {imageGallery && <ImageGallery imageGallery={imageGallery} showModal={this.showModal}/>}\r\n        {loader && <span className=\"loader\"><Loader type=\"Audio\" color=\"#00BFFF\" height={300} width={300}/></span>}\r\n        {imageGallery.length && imageGallery.length !== totalPages ? <Button loadMore={this.loadMore} /> : null}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}